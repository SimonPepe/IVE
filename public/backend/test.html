<!DOCTYPE html>
<html>
	<head>
		<title>My first three.js app</title>
		<style>
			body {
				margin: 0;
			}

			canvas {}

			#video-container {
				z-index: 0;
				background-color: rgba(0, 0, 255, 1);
				text-align: center;
			}

			#overlay-container {
				z-index: 1;
				position: absolute;
				background-color: rgba(255, 0, 0, 1);
			}
		</style>
	</head>
	<body>

		<div id="video-container">
			<video id="video" width="100%" controls loop muted autoplay preload="none">
			  	<source src="geo1-aussen-haupteingang.mp4" type="video/mp4" />
				<source src="geo1-aussen-haupteingang.ogv" type="video/ogg; codecs=theora, vorbis" />
			</video>
		</div>

		<div id="overlay-container"></div>

		<script src="../bower_components/jquery/dist/jquery.min.js"></script>
		<script src="../bower_components/three.js/build/three.min.js"></script>
		<script>
			// Start new scence
			var scene = new THREE.Scene();

			// Load div-overlay-container sizes
			var video_container = $( '#video-container' );
			var overlay_container = $( '#overlay-container' );

			console.log($( '#video' ).width);
			console.log($( '#video' ).height());

			


			console.log(overlay_container.width);
			console.log(overlay_container.height());

			// Resize container
			overlay_container.css( "width", video_container.width());
			overlay_container.css( "height", video_container.height());

			// Set new position to overlay containers over each other
			//overlay_container.position( "top", video_container.position.top * -1);

			// Set camera position
			var camera = new THREE.PerspectiveCamera( 75, overlay_container.width() / overlay_container.height(), 0.1, 1000 );

			/*var camera = new THREE.PerspectiveCamera( 50, overlay_container.width() / overlay_container.height(), 1, 3000 );
            camera.position.set( 0, 101, 300 );
            camera.lookAt(new THREE.Vector3( 0, 101, 0 ));*/

			// Create renderer and allow transparent backgroun-color
			var renderer = new THREE.WebGLRenderer({
				alpha: true
			});
			// Set size with width and height of the div-overlay-container
			renderer.setSize(overlay_container.width(), overlay_container.height());
			// Set background color to transparent
			renderer.setClearColor(0xffffff, 0);
			// Add canvas to overlay_container
			overlay_container.append(renderer.domElement);



			var geometry = new THREE.BoxGeometry( 1, 1, 1 );
			var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
			var cube = new THREE.Mesh( geometry, material );
			scene.add( cube );

			camera.position.z = 5;

			var render = function () {
				requestAnimationFrame( render );

				cube.rotation.x += 0.1;
				cube.rotation.y += 0.1;

				renderer.render(scene, camera);
			};

			render();

			window.addEventListener( 'resize', onWindowResize, false );

			function onWindowResize(){

			    camera.aspect = window.innerWidth / window.innerHeight;
			    camera.updateProjectionMatrix();

			    renderer.setSize( window.innerWidth, window.innerHeight );

			}
		</script>
	</body>
</html>
